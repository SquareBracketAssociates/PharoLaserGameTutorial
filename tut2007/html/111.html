<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
				<p class="section">Section 3</p>
		<div id="content">
		<h3>Click And Rotate A Cell</h3>
		<p>
			We know how to rotate a mirror cell and we have arrow hints
			appearing on a mirror cell to show the user the kinds of actions
			they may perform.  What we need to do next is permit the user
			to rotate the mirror cell when it gets clicked.
		</p>
		<p>
			The first thing to realize is that we want to to act
			<i>when the mouse button is released</i>.
			Clicking down over a mirror cell, and not releasing, could
			with some enhancements in our code draw the mirror cell pushed-in
			a little bit.  But it should not rotate until the user has let go
			of the mouse click and only while it's still over the same cell.
		</p>
		<p>
			Just like we did when we worked on the hints code, we should begin
			by just detecting the event and logging it to the Transcript.  Then we'll
			deal with actually rotating the cell afterwards.
		</p>
		<p>
			Add the following instance method to the LaserGame class.
		</p>
		<img src="images/543.jpg">
		<p>
			With this we can capture information about mouse events.  Change these
			methods to use the new method.  We will leave the other mouse event methods
			alone since they appear to be working as we expected.  These diagnostics
			are to help us to understand what we can do with the other mouse events.
		</p>
		<img src="images/544.jpg"><br>
		<img src="images/545.jpg"><br>
		<img src="images/546.jpg">
		<p>
			Open up the Transcript window and make sure you have the LaserGame morph open.
			Click in some of the cells, release in cells and hold the button down while
			moving around and observe what gets logged.
		</p>
		<img src="images/547.jpg">
		<p>
			For the example shown here, the last few entries in the Transcript show
			a concept we will have to incorporate into our design.  There are
			some "Mouse Move While Down" events that were logged near the end of the
			sequence.  They all took place while the mouse changed from the cell
			at grid location 3@2 to the location 4@2.  The mouse up event
			was for the cell at 4@2.
		</p>
		<p>
			If the user clicked-down over a cell, say the one at grid location 3@2,
			and then while the mouse was still down moved over to the cell at location
			4@2 and then let go of the button, I don't think they expected the cell
			at location 4@2 to get activated.
			In fact a common user interface convention is that if you exit the cell
			you click-down on while still holding the button, you expect the click
			to be ignored.
		</p>
		<p>
			We'll need a solution for that.  From looking over what gets logged it's
			really obvious that the only events we need to concern ourselves with
			for mouse clicks are the initial mouse-down and mouse-up.
			We could save the detected cell location when we first get a mouse-down
			and then compare it to the mouse location when we get a mouse-up.
			If they are the same then we can go ahead and process the mouse click.
			If they do not match, we can ignore the click.
		</p>
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="112.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>