<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
				<p class="section">Section 5</p>
		<div id="content">
		<p>
			I've settled on a workspace window for opening game morphs.
			It uses the size of 8 x 10 cells.  Here's the contents of
			the Workspace I use to open my LaserGame morphs.
		</p>
		<p class="code">
			(LaserGame randomizedGridOfExtent:  8@10)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;position: 15@320;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;openInWorld
		</p>
		<p>
			Open up a LaserGame to see our new panel.
		</p>
		<img src="images/732.jpg">
		<p>
			Let's make those counter do something.  Add the following methods.
		</p>
		<p class="code">
			<b>findMirrorsCounter</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	^self allMorphs detect: [:m | m knownName = 'mirrors'] ifNone: []
		</p>
		<p class="code">
			<b>findActiveMirrorsCounter</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	^self allMorphs detect: [:m | m knownName = 'activeMirrors'] ifNone: []
		</p>
		<p>
			All we have left do to is modify the #updateCounters method.
		</p>
		<p class="code">
			<b>updateCounters</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	| led |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led := self findLaserPathCounter.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led notNil ifTrue: [<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		self laserActive<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			ifTrue: [led <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				highlighted: true;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				value: self grid laserBeamPath size]<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			ifFalse: [led<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				highlighted: false;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				value: 0]<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			].<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led := self findMovesCounter.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led notNil ifTrue: [<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		led<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighted: false;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: self moves asString].<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led := self findMirrorsCounter.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led notNil ifTrue: [<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		led<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighted: false;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: self grid numberOfMirrors asString].<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led := self findActiveMirrorsCounter.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	led notNil ifTrue: [<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		led<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighted: false;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: self grid numberOfActiveMirrors asString].
		</p>
		<p>
			Open up a new LaserGame morph and you'll see the new counters in action.
		</p>
		<img src="images/733.jpg">
		<p>
			Remember our previous lesson.  <i>Run all the unit tests</i>.  Then save this package as
			version 12.
		</p>
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="183.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>