<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
				<p class="section">Section 4</p>
		<div id="content">
		<p>
			We're going to handle blanking 4 quadrants in a mirror cell.  Here are the new
			instance methods that handle the masking of each.  These instance methods are
			added to the MirrorCellRenderer class.
		</p>
		<p class="code">
			<b>maskForNorthEast</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	| mask pen line cellPosn |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask := Form extent: CellRenderer cellExtent depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask fillColor: Color white.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen := Form extent: 1@1 depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen fillColor: Color black.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line := Line<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			from: 0@0<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			to: mask extent<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			withForm: pen.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line displayOn: mask.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask floodFill: Color black at: 5@1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	cellPosn := self offsetWithinGridForm.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		displayOn: self targetForm<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		at: cellPosn<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		clippingBox: self targetForm boundingBox<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		rule: Form oldPaint<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		fillColor: LaserGameColors gameBoardBackgroundColor.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderTop.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderRight
		</p>
		<p class="code">
			<b>maskForNorthWest</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	| mask pen line cellPosn |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask := Form extent: CellRenderer cellExtent depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask fillColor: Color white.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen := Form extent: 1@1 depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen fillColor: Color black.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line := Line<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			from: (mask width)@0<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			to: 0@(mask height)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			withForm: pen.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line displayOn: mask.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask floodFill: Color black at: 5@5.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	cellPosn := self offsetWithinGridForm.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		displayOn: self targetForm<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		at: cellPosn<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		clippingBox: self targetForm boundingBox<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		rule: Form oldPaint<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		fillColor: LaserGameColors gameBoardBackgroundColor.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderTop.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderLeft
		</p>
		<p class="code">
			<b>maskForSouthEast</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	| mask pen line cellPosn |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask := Form extent: CellRenderer cellExtent depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask fillColor: Color white.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen := Form extent: 1@1 depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen fillColor: Color black.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line := Line<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			from: (mask width)@0<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			to: 0@(mask height)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			withForm: pen.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line displayOn: mask.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask floodFill: Color black at: (mask width - 5)@(mask height - 5).<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	cellPosn := self offsetWithinGridForm.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		displayOn: self targetForm<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		at: cellPosn<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		clippingBox: self targetForm boundingBox<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		rule: Form oldPaint<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		fillColor: LaserGameColors gameBoardBackgroundColor.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderBottom.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderRight
		</p>
		<p class="code">
			<b>maskForSouthWest</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;	| mask pen line cellPosn |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask := Form extent: CellRenderer cellExtent depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask fillColor: Color white.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen := Form extent: 1@1 depth: 1.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	pen fillColor: Color black.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line := Line<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			from: 0@0<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			to: mask extent<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			withForm: pen.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	line displayOn: mask.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask floodFill: Color black at: 1@5.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	cellPosn := self offsetWithinGridForm.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	mask<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		displayOn: self targetForm<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		at: cellPosn<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		clippingBox: self targetForm boundingBox<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		rule: Form oldPaint<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		fillColor: LaserGameColors gameBoardBackgroundColor.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderBottom.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;	self renderBorderLeft
		</p>
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="172.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>