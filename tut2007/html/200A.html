<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
			<p class="section">Section 5</p>
			<div id="content">
	<h4>Larger Margin Around Game Morph</h4>
		<p>
			You may have noticed that trying to move the LaserGame morph can be difficult if the only visible
			areas are the game board morph itself.  Clicking on the game board morph causes it to
			act on the mouse clicks.  It does not pick up the morph and grab it for overall movement.
			An easy way to fix that is make the margin around the outside of our morph a little larger.
			This way the user can grab it ant any edge to move it.
		</p>
		<p>
			While we're making this little tweak we will also make a minor cosmetic change
			to the control panel.  All the code changes we will make will be on the
			LaserGame class.
		</p>
		<p>
			The first simple change to make is enlarge the margin.  Modify the method as follows.
		</p>
		<p class="code">
			<b>gameMargin</b><br>&nbsp;&nbsp;&nbsp;&nbsp;
			^10
		</p>
		<p>
			If this was all we did there would be a problem with the "laser home" visual
			we created earlier in this tutorial.  The problem is that when we specified the
			position of the laser home visual we just assumed it would always go to the bottom
			edge of the
			overall LaserGame morph.  When the margin gets substantially larger, like now, that assumption
			is no longer useful.
			Modify the #setupMorphs method to account for this.
		</p>
		<p class="code">
			<b>setupMorphs</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;self layoutPolicy: ProportionalLayout new.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self setWindowColors.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeControlPanelMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 0 corner: 0 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: (self gameMargin @ self gameMargin<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: (self gameMargin + self panelWidth) @ self gameMargin negated)).<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeGameBoardMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 0 corner: 1 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: ((self gameMargin + self panelWidth) @ self gameMargin <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: self gameMargin negated @ self gameMargin negated)).<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeLaserHomeMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 1 corner: 0 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: ((self gameMargin + self panelWidth + 1)@(self gameMargin negated) <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: (self gameMargin + self panelWidth + CellRenderer cellExtent x - 2)@(self gameMargin negated + 4))).
		</p>
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="201.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>