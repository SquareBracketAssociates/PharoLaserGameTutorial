<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
					<p class="section">Section 5</p>
	<div id="content">
		<h3>Showing Laser Home Visually</h3>
		<p>
			Here's another minor enhancement.  Let's show a visual cue
			for the location of the laser home.
		</p>
		<p>
			We're going to add a new instance method and modify another on the LaserGame class.
			Add this method.
		</p>
		<p class="code">
			<b>makeLaserHomeMorph</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;| form |<br>
			&nbsp;&nbsp;&nbsp;&nbsp;form := Form<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extent: CellRenderer cellExtent x @ self gameMargin <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: self boardForm depth.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;form fillColor: LaserGameColors laserBeamSplatterColor.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;^SketchMorph withForm: form
		</p>
		<p>
			The next method is modified to include the new morph.
		</p>
		<p class="code">
			<b>setupMorphs</b><br>
			&nbsp;&nbsp;&nbsp;&nbsp;self layoutPolicy: ProportionalLayout new.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self setWindowColors.<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeControlPanelMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 0 corner: 0 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: (self gameMargin @ self gameMargin<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: (self gameMargin + self panelWidth) @ self gameMargin negated)).<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeGameBoardMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 0 corner: 1 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: ((self gameMargin + self panelWidth) @ self gameMargin <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: self gameMargin negated @ self gameMargin negated)).<br>
			&nbsp;&nbsp;&nbsp;&nbsp;self<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addMorph: self makeLaserHomeMorph<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullFrame: (LayoutFrame<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fractions: (0 @ 1 corner: 0 @ 1)<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offsets: ((self gameMargin + self panelWidth + 1)@(self gameMargin negated) <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corner: (self gameMargin + self panelWidth + CellRenderer cellExtent x - 2)@0)).
		</p>
		<p>
			Open up a new LaserGame morph to see how it works.
		</p>
		<img src="images/742.jpg">
		<p>
			Now.  Even though we didn't change a single piece of model code, our <i>new standard procedure</i>
			is to run the unit tests before we version and release.
			So we run the unit tests and as expected everything still passes.
		</p>
		<p>
			Save the package as version 16.  There were no changes to the test package so it does not need
			to be re-saved.
		</p>
		<img src="images/743.jpg">
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="190.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>