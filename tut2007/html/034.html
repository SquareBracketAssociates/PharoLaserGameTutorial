<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>
	<head>
		<meta name=Title content=" Squeak Development 2007 Example ">
		<meta name=Keywords content="Squeak, Tutorial, Example">
		<meta name=Author content="Stephan B. Wessels">
		<meta http-equiv=Content-Type content="text/html; charset=utf-8">
		<title>
			Squeak Development Example for Squeak 3.9 (2007)
		</title>
		<style type="text/css" media="all">
			@import "css/tutorial2007.css";
		</style>
	</head>
	<body class="main">
		<div id="main">
			<p class="section">Section 1</p>
			<div id="content">
		<p>
			Let's enrich the Grid unit test.  We'll specify
			a column and row size and re-test the basics.
		</p>
		<img src="images/124.jpg">
		<p>
			When we run the test we get another failure.
		</p>
		<img src="images/125.jpg">
		<p>
			After inspecting the "grid" object, it looks like the "cells" instance variable
			is the wrong size, defaulted to 1@1.  When our test case attempts
			to access the cell at 2@3 it fails.
		</p>
		<p>
			The issue here is that the #new class method causes the #initialize
			instance method to run as part of the object instantiation.
			This means the cells dictionary is populated using the defaulted
			state for number of columns and rows.  By the time the number of
			columns and rows are set, it's too late.  What we need is a smarter
			instantiation method on the Grid class.  Close the Debugger.
		</p>
		<img src="images/126.jpg">
		<p>
			This technique uses #basicNew to instantiate the model.  #basicNew
			creates an instance of the class just like #new, however unlike #new,
			it does not
			automatically run the #initialize instance method on the newly
			created object.
			We then
			use the argument passed to #newOfSize: to declare the number of
			rows and columns on the model before we manually initialize it.
		</p>
		<p class="note">
		<a name="importantWarning"></a>
		Important note!  In the browser above we just created a new <b>Class</b> method.  
		Not an <b>Instance</b> method.  Make sure you have the "class" button clicked
		before creating the #newOfSize: method.  A number of students learning from this
		tutorial have made this mistake.  If you do too, just delete the instance method you
		created by mistake and create a new class method instead.
		</p>
		<p>
			Modify the test case to use our new class method.
		</p>
		<img src="images/127.jpg">
		<p>
			Rerun of the tests should pass now.
		</p>
		<img src="images/128.jpg">
		</div>
<div id="paging">
<a class="index" href="index.html">Index Page</a>
		<a class="forward" href="035.html">Next Page</a>
		<p class="foot">Copyright &copy; 2007, 2008, 2009 Stephan B Wessels&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:stevewessels@me.com?subject=squeak tutorial 2007">stevewessels@me.com</a></p>
			</div>
		</div>
	</body>
</html>